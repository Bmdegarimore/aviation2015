<!DOCTYPE HTML>

<html>
	<head>
		<title>Memory Quiz</title>
		<style>
			body {
				min-width: 1000px;
				max-width: 1000px;
				background-color: #2ecc71;
			}

			img {
				border: 1px solid #aaaaaa;
			}

			#rapper {
				min-width: 600px;
				max-width: 600px;
				margin-left: 20%;
				padding-top: 5%;
				padding-left: 5%;
				padding-bottom: 60%;
				border-style: solid;
				border-color: #22313F;
				background-color: #ecf0f1;
			}

			div.empty, div.answer {
				float:left;
				width:100px; 
				height:100px; 
				margin: 10px;
				display: block;
				padding:10px;
				/*Make sure this color matches background, the exact same! */
				border: 1px solid #ecf0f1;
				overflow: hidden;
			}

			div.answer {
				border:1px dashed #aaaaaa;
			}

		</style>
	</head>

	<body onload="start()">
		<a href="index.html">Menu</a>
		<div id="rapper">

			<div id="div1" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div2" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div3" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div4" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>



			<div id="div5" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div6" class="answer" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div7" class="answer" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div8" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>



			<div id="div9" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div10" class="answer" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div11" class="answer" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div12" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>



			<div id="div13" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div14" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div15" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

			<div id="div16" class="empty" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

		</div>

		<script src="http://code.jquery.com/jquery.js"></script>
		<script src="script/sectionOne.js"></script>
		<script>
			//Picks random cards from the section
			var mcard1 = getCard(Math.floor((Math.random() * 10) + 1));
			
			var mcard2 = getCard(Math.floor((Math.random() * 10) + 1));
			while(mcard1 == mcard2){
				mcard2 = getCard(Math.floor((Math.random() * 10) + 1));
			}
			
			var mcard3 = getCard(Math.floor((Math.random() * 10) + 1));
			while(mcard3 == mcard2 || mcard3 == mcard1){
				mcard3 = getCard(Math.floor((Math.random() * 10) + 1));
			}
			
			var mcard4 = getCard(Math.floor((Math.random() * 10) + 1));
			while(mcard4 == mcard2 || mcard4 == mcard1 || mcard4 == mcard3){
				mcard4 = getCard(Math.floor((Math.random() * 10) + 1));
			}

			function start(){
				//This assigns the data to the div
				$("#div6").append(mcard1.word);
				$("#div7").append(mcard2.word);
				$("#div10").append(mcard3.word);
				$("#div11").append(mcard4.word);

				$("#div1").append("<img src=\"images/audioicon.png\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"drag1\" width=\"80\" height=\"80\" onClick=\"playAudio(1)\"> " + "<audio id=\"audioPlay1\" src=\"" + mcard1.audio + "\"></audio>");

				$("#div4").append("<img src=\"images/audioicon.png\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"drag2\" width=\"80\" height=\"80\" onClick=\"playAudio(2)\"> " + "<audio id=\"audioPlay2\" src=\"" + mcard2.audio + "\"></audio>");

				$("#div13").append("<img src=\"images/audioicon.png\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"drag3\" width=\"80\" height=\"80\" onClick=\"playAudio(3)\"> " + "<audio id=\"audioPlay3\" src=\"" + mcard3.audio + "\"></audio>");

				$("#div16").append("<img src=\"images/audioicon.png\" draggable=\"true\" ondragstart=\"drag(event)\" id=\"drag4\" width=\"80\" height=\"80\" onClick=\"playAudio(4)\"> " + "<audio id=\"audioPlay4\" src=\"" + mcard4.audio + "\"></audio>");
			}

			function allowDrop(ev) {
			    ev.preventDefault();
			}

			function drag(ev) {
			    ev.dataTransfer.setData("text", ev.target.id);
			}

			function drop(ev) {
			    ev.preventDefault();
			    var data = ev.dataTransfer.getData("text");
			    ev.target.appendChild(document.getElementById(data));
			    checkAnswer(data, ev.target.id);
			}

			function playAudio(num){
				document.getElementById("audioPlay"+num).load();
				document.getElementById("audioPlay"+num).play();
			}

			function checkAnswer(data, tarid){
				var answer = eval("mcard"+data.substring(4)).word;

				if(tarid == "div6" && mcard1.word == answer) {
					alert("Correct!");
				}
				else if(tarid == "div7" && mcard2.word == answer){
					alert("Correct!");
				}
				else if(tarid == "div10" && mcard3.word == answer){
					alert("Correct!");
				}
				else if(tarid == "div11" && mcard4.word == answer){
					alert("Correct!");
				}
			}

		</script>

	</body>

</html>
